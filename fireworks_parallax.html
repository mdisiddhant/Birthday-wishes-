<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <title>Fireworks + Parallax | Siddhant</title>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <style>
    body {
      margin:0;min-height:100vh;
      font-family:'Segoe UI',cursive,sans-serif;
      background:linear-gradient(140deg,#97e4fc 0%,#fad9ff 100%);
      overflow-x:hidden;
    }
    .parallax-bg {
      position:fixed;top:0;left:0;z-index:0;width:100vw;height:100vh;
      background:radial-gradient(ellipse at 30% 25%,#ffb8d1bb 0%,#fcf1fa00 75%), 
                  radial-gradient(ellipse at 75% 80%,#bcffd7ab 0%,#fff0 85%);
      background-blend-mode:lighten;
      pointer-events:none;
      will-change:background-position;
      transition:background-position .2s;
    }
    .container{position:relative;z-index:2;text-align:center;max-width:440px;margin:55px auto 33px auto;
      background:#fffefaee;border-radius:20px;box-shadow:0 7px 30px #87b3fab6;padding:2em 1.1em 2.2em 1.1em;}
    h1{color:#f3456e;font-size:2em;font-family:'Brush Script MT',cursive;}
    .msg{color:#6b3581;font-size:1.09em;margin-bottom:1.1em;}
    #fireworks{position:fixed;top:0;left:0;width:100vw;height:100vh;pointer-events:none;z-index:1;}
    @media(max-width:500px){.container{max-width:97vw;padding:1.2em 2vw;}}
  </style>
</head>
<body>
  <div class="parallax-bg" id="parallaxBg"></div>
  <canvas id="fireworks"></canvas>
  <div class="container">
    <h1>ðŸŽ† Fireworks & Parallax ðŸŽ‡</h1>
    <div class="msg">
      Double-click anywhere for fireworks burst! <br>
      Move your mouse/mobile for parallax effect.<br>
      <span style="font-size:.95em;color:#688;">(Automatic bursts every 3 sec ðŸŽ‰)</span>
    </div>
  </div>
  <script>
    // === FIREWORKS ANIMATION ===
    const canvas = document.getElementById('fireworks');
    const ctx = canvas.getContext('2d');
    function resize() {
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
    }
    resize(); window.addEventListener('resize',resize);

    // -- Firework particle system --
    let fireworks = [];
    function randomColor() {
      const palette = ['#ffe657','#ff97ce','#69f0ff','#ff5252','#52ff90','#ffde61','#fd7f79','#a16dfb'];
      return palette[Math.floor(Math.random()*palette.length)];
    }
    function launch(x, y) {
      const N = 25 + Math.floor(Math.random()*14);
      let fw = [];
      for(let i=0;i<N;i++) {
        let angle = Math.random()*2*Math.PI;
        let speed = 2 + Math.random()*3;
        fw.push({
          x:x, y:y, vx:Math.cos(angle)*speed, vy:Math.sin(angle)*speed,
          alpha:0.99, color:randomColor(), decay:0.004+Math.random()*0.008
        });
      }
      fireworks.push(fw);
    }
    function drawFireworks() {
      ctx.clearRect(0,0,canvas.width,canvas.height);
      fireworks.forEach(fw=>{
        fw.forEach(p=>{
          ctx.globalAlpha = p.alpha;
          ctx.beginPath();
          ctx.arc(p.x,p.y,2.2+Math.random()*1.1,0,2*Math.PI);
          ctx.fillStyle = p.color; ctx.fill();
        });
      });
      ctx.globalAlpha = 1;
    }
    function updateFireworks() {
      fireworks = fireworks.filter(fw=>{
        fw.forEach(p=>{
          p.x+=p.vx; p.y+=p.vy; p.vy+=0.055;
          p.alpha-=p.decay;
        });
        return fw.some(p=>p.alpha>0);
      });
    }
    function animate() {
      drawFireworks(); updateFireworks();
      requestAnimationFrame(animate);
    }
    animate();
    // User interaction
    canvas.addEventListener('dblclick',e=>{
      launch(e.clientX, e.clientY);
    });
    // Automatic random burst
    setInterval(()=>{
      let x=100+Math.random()*(canvas.width-200),y=80+Math.random()*200;
      launch(x,y);
    },3000);

    // === PARALLAX EFFECT (background gradient shifts) ===
    const pb = document.getElementById("parallaxBg");
    function handleParallax(e){
      let x=0.5,y=0.5;
      if(e.touches&&e.touches[0]) { x=e.touches[0].clientX/window.innerWidth; y=e.touches[0].clientY/window.innerHeight;}
      else if(e.clientX!==undefined){ x=e.clientX/window.innerWidth; y=e.clientY/window.innerHeight;}
      pb.style.backgroundPosition = `${50+25*(x-0.5)}% ${50+18*(y-0.5)}%`;
    }
    window.addEventListener('mousemove',handleParallax);
    window.addEventListener('touchmove',handleParallax);
  </script>
</body>
</html>
